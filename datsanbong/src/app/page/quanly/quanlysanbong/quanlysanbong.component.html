<div class="mb-3">
    <button (click)="openPopup()" style="font-size: 24px;">Thêm Sân Bóng</button>
</div>

<!-- Add -->
<div class="popup-container" *ngIf="showPopup">
    <div class="popup">
        <h2>Thêm</h2>
        <div class="form-group">
            <div class="d-flex flex justify-items-center">
                <label for="field1" class="mr-2">Doanh Nghiệp:</label>
                <select class="select" [(ngModel)]="selectedDoanhNghiep">
                    <option *ngFor="let item of doanhNghiepSmallField" [value]="item.id_doanh_nghiep">
                        {{ item.ten_doanh_nghiep}}
                    </option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="field2" class="mr-2">Tên Sân Bóng:</label>
            <input type="text" id="field2" [(ngModel)]="tenSanBong">
        </div>
        <div class="d-flex flex justify-content-between">
            <button (click)="closePopup()">Đóng</button>
            <button (click)="addData()">Thêm</button>
        </div>
    </div>
</div>

<!-- EDIT -->
<div class="popup-container" *ngIf="showEditPopup">
    <div class="popup">
        <h2>Cập Nhập</h2>
        <div class="form-group">
            <div class="d-flex flex justify-items-center">
                <label for="field1" class="mr-2">Doanh Nghiệp:</label>
                <select class="select" [(ngModel)]="selectedDoanhNghiep">
                    <option *ngFor="let item of doanhNghiepSmallField" [value]="item.id_doanh_nghiep">
                        {{ item.ten_doanh_nghiep}}
                    </option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="field2" class="mr-2">Tên Sân Bóng:</label>
            <input type="text" id="field2" [(ngModel)]="tenSanBong">
        </div>
        <div class="form-group">
            <label for="field2" class="mr-2">Trạng Thái:</label>
            <select class="select" [(ngModel)]="selectedTrangThai">
                <option *ngFor="let item of trangThais" [value]="item.value">
                    {{ item.label}}
                </option>
            </select>
        </div>
        <div class="d-flex flex justify-content-between">
            <button (click)="closePopup()">Đóng</button>
            <button (click)="saveData()">Lưu</button>
        </div>
    </div>
</div>

<!-- DEL -->
<div class="popup-container" *ngIf="showDelPopup">
    <div class="popup">
        <h2>Xóa</h2>
        <div class="form-group">
            <label for="field2" class="mr-2">Tên Sân Bóng:</label>
            <input disabled="true" type="text" id="field2" style="border: none; background-color: #fafad2; color: black;" [(ngModel)]="tenSanBong">
        </div>
        <div class="d-flex flex justify-content-between">
            <button (click)="closePopup()">Đóng</button>
            <button (click)="delData()">Xóa</button>
        </div>
    </div>
</div>


<table class="table" style="background-color: #fafad2;">
    <thead class="thead-dark">
        <tr>
            <th scope="col">#</th>
            <th scope="col">Tên Doanh Nghiệp</th>
            <th scope="col">Tên Sân Bóng</th>
            <th scope="col">Trạng Thái</th>
            <th scope="col">Hành Động</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let sanBongField of sanBongFields">
            <th scope="row">{{ sanBongField.id }}</th>
            <td>{{ sanBongField.doanh_nghiep.ten_doanh_nghiep }}</td>
            <td>{{ sanBongField.ten_san_bong }}</td>
            <td>{{ sanBongField.trang_thai }}</td>
            <td>
                <div class="d-flex flex justify-items-center">
                    <button class="mx-1" (click)="onEdit(sanBongField)">Sửa</button>
                    <button (click)="onDelete(sanBongField)">Xóa</button>
                </div>
            </td>
        </tr>
    </tbody>
</table>